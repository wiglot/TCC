\chapter{Introdução}
Em alguns setores de empresas, para efetuar o atendimento a um cliente, elas
devem deslocar um funcionário (ou uma equipe deles) da sua base de operações até
a casa do cliente para executar o serviço.
Isso ocorre principalmente em empresas que prestam algum tipo de serviço de
atendimento domiciliar aos clientes, como por exemplo empresas de entrega de
correspondência, provedores de internet no que diz respeito a suporte aos
clientes e companhias de distribuição de energia elétrica também referente aos
suporte a clientes.
% Esse ultimo cenário que esse trabalho toma emprestado para os estudos de caso.

Esses tipos de atendimentos aos clientes são chamados de ordens de serviço (OS)\sigla{OS} {Ordem de serviço},
 podendo ter outros nomes conforme a área de atuação da empresa, mas sempre com
 o intuito de registrar que a empresa deve fazer um atendimento a um determinado
cliente.
Cada OS contem alguns dados básicos como a localização do atendimento e tempo
previsto de atendimento. Trataremos aqui a localização como um ponto no espaço
$\Re^{2}$ e o tempo como a demanda de tempo que a OS levará para ser atendida.

Como medida de deslocamento apenas consideraremos a distância euclidiana
entre os pontos, pois algumas instâncias reais se fossem representadas com a
distância real que a equipe percorreria, iria demandar um mapa completo da
localidade e mãos das ruas, o que nem sempre é disponível.

Nesse cenário de estudo tomamos algumas premissas como válidas:
\begin{itemize}
 \item Uma OS deve ser atendida por um funcionário/equipe;
 \item Não levamos em consideração agendamentos de horários, apenas que todas as OS devem ser executas;
 \item Uma OS possui um tempo que a equipe levará para executa-la;
 \item Uma equipe consegue executar todas as OS atribuídas a ela no tempo estimado e predefinido de cada uma delas;
 \item O tempo de atendimento de todas as ordens atribuídas a uma equipe não deve ultrapassarem sua jornada de trabalho que é préviamente estipulada;
 \item As ordens são as de apenas um dia. As que entrarem durante o atendimento ficam agendadas o próximo dia.
 \item Não será considerado o tempo de deslocamento entre os atendimentos das OS.
 \item Será tentado inserir ao menos um atendimento para cada equipe, mesmo que eles execute apenas tal atendimento.
\end{itemize}

Essas premissas definem o PDOS \sigla{PDOS} {Problema de Despacho de Ordens de Serviço}, onde
devemos associar todas OS as equipes de modo que uma OS seja atendida por uma, e não mais que uma, equipe e é desejado minimizar o deslocamento entre os atendimentos, uma vez que isso diminui os custos e o tempo de deslocamento entre os atendimentos devido a menor distância percorrida, o que é algo desejável para as empresas.

Ao designar um conjunto de OS a uma equipe, deve-se levar em consideração a  carga horária de cada uma delas e as demandas de tempo que estão relacionadas com o conjunto de OS atribuído a equipe.
Isso por si só pode ser visto como um Problema da Mochila, visto que temos vários atendimentos, cada um com seu tempo indivídual, e cada equipe possuí uma capacidade.

Um exemplo hipotético de atribuição de OS a equipes é ilustrado na FIGURA \ref{FigDemandaCapacidade}, constando 3 equipes para realizar 15 atendimentos.
É possível perceber que os atendimentos de cada equipe encontram-se dispersos, requisitando um maior deslocamento das equipes de um atendimento a outro quando se vislumbra um agrupamento em que os pontos de atendimento estivessem mais próximos.

\begin{figure}
 \begin{center}
  \includegraphics[scale=0.5]{./images/DemandasCapacidade.png}
 % DemandasCapacidade.png: 455x299 pixel, 96dpi, 12.04x7.91 cm, bb=0 0 341 224
  \end{center}
\caption{\label{FigDemandaCapacidade}Alocação de OS apenas pelas Demandas e
Capacidades }
\end{figure}



Um problema que engloba essas características apresentadas é o  CCP \cite{osman1994capacitated} \sigla{CCP} {Problema de Agrupamento Capacitado - Capacitated Clustering Problem}, clássico na literatura e também conhecido como (CPMP) \sigla {CPMP}{Problema das P-Medianas Capacitado - Capacitated P-Medians Problem}.
Na figura \ref{FigCCPIntro} temos um exemplo de como as ordens de serviço poderiam estar associadas às equipes se associadas utilizando de métodos de agrupamento capacitado.

Mesmo com tal cuidado ao executar o despacho das ordens de serviço para as equipes, é possível notar que ainda assim não foi possível atribuir as OS de modo que todas OS de de uma equipe fique próximas de uma OS escolhida como centro.
 Isso é devido as restrições de capacidade das equipes e demandas das OS.

\begin{figure}
 \begin{center}
  \includegraphics[scale=0.5]{./images/CCPIntro.png}
 % DemandasCapacidade.png: 455x299 pixel, 96dpi, 12.04x7.91 cm, bb=0 0 341 224
  \end{center}
\caption{\label{FigCCPIntro} Possível atribuição das Mesmas OS por uma agrupamento capacitado }
\end{figure}

As instâncias inéditas desse problema foram retiradas de agendamentos reais de ordens de atendimento
de uma empresa e tiveram que ter a capacidade de atendimento normalizadas para tornar o problema factível. Essa normalização foi necessária uma vez que a demanda dos atendimentos é maior que a capacidade de todas equipes. Esse fato ocorre por existirem demandas adicionais de dias anteriores e possíveis eventos especiais (por exemplo um temporal em uma cidade que tenha causado avarias na rede  elétrica). A frente neste trabalho será apresentado um estudo sobre essas folgas e ajustes executados nas mesmas.

Não será tratado a geração de rotas entre os atendimentos, mas
esse problema já foi tratado na literatura como o CTSP \sigla{CTSP} {Problema do Caixeiro Viajante
Agrupado - Clustered Travel Salesman Problem}, onde desejamos entrar os menor ciclo Hamiltoniano nos pontos, sendo que os pontos
dos agrupamentos devem ser visitados em sequência \cite{jeanCTSP-Genetic}.

Esse trabalho foi dividido em 5 partes: na primeira é apresentado uma breve visão do problema de agurpamentos, citando sua complexidade e variações, e no final uma abordagem ao problema de agrupamento e de como o PDOS pode ser visto como um problema de agrupamento capacitado. Na segunda parte são apresentadas cada uma das heurísticas estudadas, bem como um as técnicas de busca local utilizadas.
Na terceira parte apresentamos as ferramentas computacionais desenvolvidas. Na quarta parte é mostrado um estudo sobre as características de agrupamento e demanda das instâncias. Na quinta parte constam os resultados obtidos pelos algoritmos implementados e as comparações com resultados apresentados na literatura.

